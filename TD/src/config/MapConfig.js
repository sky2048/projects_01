// 地图配置
export const MAP_CONFIG = {
    TILE_SIZE: 40,
    BOARD_WIDTH: 16,
    BOARD_HEIGHT: 12,
    PATH_WIDTH: 2,
    
    // 多张地图配置
    MAPS: {
        STRAIGHT: {
            id: 'STRAIGHT',
            name: '直线之路',
            description: '最简单的地图，怪物从左到右直线前进',
            pathPoints: [
                { x: 0, y: 6 }, { x: 1, y: 6 }, { x: 2, y: 6 }, { x: 3, y: 6 },
                { x: 4, y: 6 }, { x: 5, y: 6 }, { x: 6, y: 6 }, { x: 7, y: 6 },
                { x: 8, y: 6 }, { x: 9, y: 6 }, { x: 10, y: 6 }, { x: 11, y: 6 },
                { x: 12, y: 6 }, { x: 13, y: 6 }, { x: 14, y: 6 }, { x: 15, y: 6 }
            ]
        },
        
        ZIGZAG: {
            id: 'ZIGZAG',
            name: '之字形路径',
            description: '蜿蜒曲折的路径，增加策略深度',
            pathPoints: [
                { x: 0, y: 2 }, { x: 1, y: 2 }, { x: 2, y: 2 }, { x: 3, y: 2 },
                { x: 4, y: 2 }, { x: 5, y: 2 }, { x: 6, y: 2 }, { x: 7, y: 2 },
                { x: 8, y: 2 }, { x: 9, y: 2 }, { x: 10, y: 2 }, { x: 11, y: 2 },
                { x: 11, y: 3 }, { x: 11, y: 4 }, { x: 11, y: 5 }, { x: 11, y: 6 },
                { x: 11, y: 7 }, { x: 11, y: 8 }, { x: 11, y: 9 },
                { x: 12, y: 9 }, { x: 13, y: 9 }, { x: 14, y: 9 }, { x: 15, y: 9 }
            ]
        },

        SPIRAL: {
            id: 'SPIRAL',
            name: '螺旋迷宫',
            description: '极具挑战性的螺旋路径，考验你的策略布局',
            pathPoints: [
                // 从左边进入
                { x: 0, y: 6 }, { x: 1, y: 6 }, { x: 2, y: 6 }, { x: 3, y: 6 },
                // 向上
                { x: 3, y: 5 }, { x: 3, y: 4 }, { x: 3, y: 3 }, { x: 3, y: 2 },
                // 向右
                { x: 4, y: 2 }, { x: 5, y: 2 }, { x: 6, y: 2 }, { x: 7, y: 2 },
                { x: 8, y: 2 }, { x: 9, y: 2 }, { x: 10, y: 2 }, { x: 11, y: 2 },
                { x: 12, y: 2 },
                // 向下
                { x: 12, y: 3 }, { x: 12, y: 4 }, { x: 12, y: 5 }, { x: 12, y: 6 },
                { x: 12, y: 7 }, { x: 12, y: 8 }, { x: 12, y: 9 },
                // 向左
                { x: 11, y: 9 }, { x: 10, y: 9 }, { x: 9, y: 9 }, { x: 8, y: 9 },
                { x: 7, y: 9 }, { x: 6, y: 9 }, { x: 5, y: 9 },
                // 向上（内圈）
                { x: 5, y: 8 }, { x: 5, y: 7 }, { x: 5, y: 6 }, { x: 5, y: 5 },
                { x: 5, y: 4 },
                // 向右（内圈）
                { x: 6, y: 4 }, { x: 7, y: 4 }, { x: 8, y: 4 }, { x: 9, y: 4 },
                { x: 10, y: 4 },
                // 向下（内圈）
                { x: 10, y: 5 }, { x: 10, y: 6 }, { x: 10, y: 7 },
                // 向左（最内圈）
                { x: 9, y: 7 }, { x: 8, y: 7 }, { x: 7, y: 7 },
                // 向上到中心然后出去
                { x: 7, y: 6 }, { x: 7, y: 5 },
                // 最终出口
                { x: 8, y: 5 }, { x: 9, y: 5 }, { x: 10, y: 5 }, { x: 11, y: 5 },
                { x: 12, y: 5 }, { x: 13, y: 5 }, { x: 14, y: 5 }, { x: 15, y: 5 }
            ]
        },

        DOUBLE_LANE: {
            id: 'DOUBLE_LANE',
            name: '双线战场',
            description: '两条并行路径同时进攻，分散你的防御力量',
            pathPoints: [
                // 上路
                { x: 0, y: 3 }, { x: 1, y: 3 }, { x: 2, y: 3 }, { x: 3, y: 3 },
                { x: 4, y: 3 }, { x: 5, y: 3 }, { x: 6, y: 3 }, { x: 7, y: 3 },
                { x: 8, y: 3 }, { x: 9, y: 3 }, { x: 10, y: 3 }, { x: 11, y: 3 },
                { x: 12, y: 3 }, { x: 13, y: 3 }, { x: 14, y: 3 }, { x: 15, y: 3 },
                // 连接到下路
                { x: 15, y: 4 }, { x: 15, y: 5 }, { x: 15, y: 6 }, { x: 15, y: 7 },
                { x: 15, y: 8 }, { x: 15, y: 9 },
                // 下路（逆向）
                { x: 14, y: 9 }, { x: 13, y: 9 }, { x: 12, y: 9 }, { x: 11, y: 9 },
                { x: 10, y: 9 }, { x: 9, y: 9 }, { x: 8, y: 9 }, { x: 7, y: 9 },
                { x: 6, y: 9 }, { x: 5, y: 9 }, { x: 4, y: 9 }, { x: 3, y: 9 },
                { x: 2, y: 9 }, { x: 1, y: 9 }, { x: 0, y: 9 }
            ]
        },

        CROSSROADS: {
            id: 'CROSSROADS',
            name: '十字路口',
            description: '四个方向的路径交汇，策略布局的终极考验',
            pathPoints: [
                // 从左进入
                { x: 0, y: 6 }, { x: 1, y: 6 }, { x: 2, y: 6 }, { x: 3, y: 6 },
                { x: 4, y: 6 }, { x: 5, y: 6 }, { x: 6, y: 6 }, { x: 7, y: 6 },
                // 中心十字路口
                { x: 8, y: 6 },
                // 向上走
                { x: 8, y: 5 }, { x: 8, y: 4 }, { x: 8, y: 3 }, { x: 8, y: 2 },
                { x: 8, y: 1 }, { x: 8, y: 0 },
                // 从上回到中心
                { x: 8, y: 1 }, { x: 8, y: 2 }, { x: 8, y: 3 }, { x: 8, y: 4 },
                { x: 8, y: 5 }, { x: 8, y: 6 },
                // 向右走
                { x: 9, y: 6 }, { x: 10, y: 6 }, { x: 11, y: 6 }, { x: 12, y: 6 },
                { x: 13, y: 6 }, { x: 14, y: 6 }, { x: 15, y: 6 },
                // 从右回到中心
                { x: 14, y: 6 }, { x: 13, y: 6 }, { x: 12, y: 6 }, { x: 11, y: 6 },
                { x: 10, y: 6 }, { x: 9, y: 6 }, { x: 8, y: 6 },
                // 向下走
                { x: 8, y: 7 }, { x: 8, y: 8 }, { x: 8, y: 9 }, { x: 8, y: 10 },
                { x: 8, y: 11 },
                // 最终出口（从下往右）
                { x: 9, y: 11 }, { x: 10, y: 11 }, { x: 11, y: 11 }, { x: 12, y: 11 },
                { x: 13, y: 11 }, { x: 14, y: 11 }, { x: 15, y: 11 }
            ]
        },

        SNAKE_PATH: {
            id: 'SNAKE_PATH',
            name: '蛇形迷踪',
            description: '蜿蜒如蛇的复杂路径，考验塔的射程覆盖',
            pathPoints: [
                // 第一段：从左向右
                { x: 0, y: 2 }, { x: 1, y: 2 }, { x: 2, y: 2 }, { x: 3, y: 2 },
                { x: 4, y: 2 }, { x: 5, y: 2 },
                // 向下转弯
                { x: 5, y: 3 }, { x: 5, y: 4 }, { x: 5, y: 5 },
                // 向左折回
                { x: 4, y: 5 }, { x: 3, y: 5 }, { x: 2, y: 5 }, { x: 1, y: 5 },
                // 继续向下
                { x: 1, y: 6 }, { x: 1, y: 7 }, { x: 1, y: 8 },
                // 向右转
                { x: 2, y: 8 }, { x: 3, y: 8 }, { x: 4, y: 8 }, { x: 5, y: 8 },
                { x: 6, y: 8 }, { x: 7, y: 8 }, { x: 8, y: 8 }, { x: 9, y: 8 },
                // 向上转
                { x: 9, y: 7 }, { x: 9, y: 6 }, { x: 9, y: 5 }, { x: 9, y: 4 },
                // 向右继续
                { x: 10, y: 4 }, { x: 11, y: 4 }, { x: 12, y: 4 }, { x: 13, y: 4 },
                // 最后向下到出口
                { x: 13, y: 5 }, { x: 13, y: 6 }, { x: 13, y: 7 }, { x: 13, y: 8 },
                { x: 13, y: 9 },
                // 最终出口
                { x: 14, y: 9 }, { x: 15, y: 9 }
            ]
        },

        BOTTLENECK: {
            id: 'BOTTLENECK',
            name: '瓶颈要塞',
            description: '多个狭窄通道，形成天然的防御瓶颈',
            pathPoints: [
                // 宽阔入口
                { x: 0, y: 6 }, { x: 1, y: 6 }, { x: 2, y: 6 }, { x: 3, y: 6 },
                // 第一个瓶颈
                { x: 4, y: 6 }, { x: 5, y: 6 },
                // 扩散
                { x: 6, y: 6 }, { x: 7, y: 6 }, { x: 8, y: 6 },
                // 向上分支
                { x: 8, y: 5 }, { x: 8, y: 4 }, { x: 8, y: 3 },
                // 向右
                { x: 9, y: 3 }, { x: 10, y: 3 },
                // 向下汇合
                { x: 10, y: 4 }, { x: 10, y: 5 }, { x: 10, y: 6 },
                // 继续主路
                { x: 11, y: 6 },
                // 第二个瓶颈（向下分支）
                { x: 11, y: 7 }, { x: 11, y: 8 }, { x: 11, y: 9 },
                // 向右
                { x: 12, y: 9 }, { x: 13, y: 9 },
                // 向上汇合到主路
                { x: 13, y: 8 }, { x: 13, y: 7 }, { x: 13, y: 6 },
                // 最终直线冲刺
                { x: 14, y: 6 }, { x: 15, y: 6 }
            ]
        },

        MAZE_RUNNER: {
            id: 'MAZE_RUNNER',
            name: '迷宫行者',
            description: '错综复杂的迷宫路径，没有明显的防御重点',
            pathPoints: [
                // 从下方进入
                { x: 0, y: 10 }, { x: 1, y: 10 }, { x: 2, y: 10 },
                // 向上
                { x: 2, y: 9 }, { x: 2, y: 8 }, { x: 2, y: 7 }, { x: 2, y: 6 },
                // 向右
                { x: 3, y: 6 }, { x: 4, y: 6 }, { x: 5, y: 6 },
                // 向上
                { x: 5, y: 5 }, { x: 5, y: 4 }, { x: 5, y: 3 },
                // 向右
                { x: 6, y: 3 }, { x: 7, y: 3 }, { x: 8, y: 3 }, { x: 9, y: 3 },
                // 向下
                { x: 9, y: 4 }, { x: 9, y: 5 }, { x: 9, y: 6 }, { x: 9, y: 7 },
                { x: 9, y: 8 },
                // 向左
                { x: 8, y: 8 }, { x: 7, y: 8 }, { x: 6, y: 8 },
                // 向下
                { x: 6, y: 9 }, { x: 6, y: 10 },
                // 向右
                { x: 7, y: 10 }, { x: 8, y: 10 }, { x: 9, y: 10 }, { x: 10, y: 10 },
                { x: 11, y: 10 },
                // 向上
                { x: 11, y: 9 }, { x: 11, y: 8 }, { x: 11, y: 7 }, { x: 11, y: 6 },
                { x: 11, y: 5 }, { x: 11, y: 4 }, { x: 11, y: 3 }, { x: 11, y: 2 },
                { x: 11, y: 1 },
                // 最终向右出口
                { x: 12, y: 1 }, { x: 13, y: 1 }, { x: 14, y: 1 }, { x: 15, y: 1 }
            ]
        },

        FORTRESS: {
            id: 'FORTRESS',
            name: '要塞防线',
            description: '多层防御的要塞结构，考验层次化防御策略',
            pathPoints: [
                // 外围防线
                { x: 0, y: 8 }, { x: 1, y: 8 }, { x: 2, y: 8 }, { x: 3, y: 8 },
                // 向上进入第一道防线
                { x: 3, y: 7 }, { x: 3, y: 6 }, { x: 3, y: 5 },
                // 向右穿过第一道防线
                { x: 4, y: 5 }, { x: 5, y: 5 }, { x: 6, y: 5 }, { x: 7, y: 5 },
                // 向下到第二层
                { x: 7, y: 6 }, { x: 7, y: 7 }, { x: 7, y: 8 }, { x: 7, y: 9 },
                // 向右穿过第二道防线
                { x: 8, y: 9 }, { x: 9, y: 9 }, { x: 10, y: 9 }, { x: 11, y: 9 },
                // 向上到第三层
                { x: 11, y: 8 }, { x: 11, y: 7 }, { x: 11, y: 6 }, { x: 11, y: 5 },
                { x: 11, y: 4 }, { x: 11, y: 3 },
                // 最终冲刺
                { x: 12, y: 3 }, { x: 13, y: 3 }, { x: 14, y: 3 }, { x: 15, y: 3 }
            ]
        },

        RIVER: {
            id: 'RIVER',
            name: '河流弯道',
            description: '沿着河流蜿蜒前进，多个急转弯考验塔的覆盖范围',
            pathPoints: [
                // 河流起点
                { x: 0, y: 9 }, { x: 1, y: 9 }, { x: 2, y: 9 }, { x: 3, y: 9 },
                // 第一个弯道（向上）
                { x: 3, y: 8 }, { x: 3, y: 7 }, { x: 3, y: 6 }, { x: 3, y: 5 },
                { x: 3, y: 4 }, { x: 3, y: 3 },
                // 向右流淌
                { x: 4, y: 3 }, { x: 5, y: 3 }, { x: 6, y: 3 }, { x: 7, y: 3 },
                // 第二个弯道（向下）
                { x: 7, y: 4 }, { x: 7, y: 5 }, { x: 7, y: 6 }, { x: 7, y: 7 },
                // 向右继续
                { x: 8, y: 7 }, { x: 9, y: 7 }, { x: 10, y: 7 },
                // 第三个弯道（向上）
                { x: 10, y: 6 }, { x: 10, y: 5 }, { x: 10, y: 4 },
                // 向右流向终点
                { x: 11, y: 4 }, { x: 12, y: 4 }, { x: 13, y: 4 },
                // 最后一个弯道（向下到出口）
                { x: 13, y: 5 }, { x: 13, y: 6 }, { x: 13, y: 7 }, { x: 13, y: 8 },
                // 河流终点
                { x: 14, y: 8 }, { x: 15, y: 8 }
            ]
        },

        TEMPLE: {
            id: 'TEMPLE',
            name: '神殿迷宫',
            description: '古老神殿的神秘通道，充满挑战的回环路径',
            pathPoints: [
                // 神殿入口
                { x: 0, y: 6 }, { x: 1, y: 6 }, { x: 2, y: 6 },
                // 进入神殿大厅
                { x: 3, y: 6 }, { x: 4, y: 6 }, { x: 5, y: 6 },
                // 向上到神殿上层
                { x: 5, y: 5 }, { x: 5, y: 4 }, { x: 5, y: 3 }, { x: 5, y: 2 },
                // 在上层向右移动
                { x: 6, y: 2 }, { x: 7, y: 2 }, { x: 8, y: 2 }, { x: 9, y: 2 },
                { x: 10, y: 2 },
                // 向下到中层
                { x: 10, y: 3 }, { x: 10, y: 4 }, { x: 10, y: 5 }, { x: 10, y: 6 },
                // 在中层向左回环
                { x: 9, y: 6 }, { x: 8, y: 6 }, { x: 7, y: 6 },
                // 向下到神殿下层
                { x: 7, y: 7 }, { x: 7, y: 8 }, { x: 7, y: 9 }, { x: 7, y: 10 },
                // 在下层向右
                { x: 8, y: 10 }, { x: 9, y: 10 }, { x: 10, y: 10 }, { x: 11, y: 10 },
                { x: 12, y: 10 },
                // 向上到出口层
                { x: 12, y: 9 }, { x: 12, y: 8 }, { x: 12, y: 7 }, { x: 12, y: 6 },
                { x: 12, y: 5 },
                // 神殿出口
                { x: 13, y: 5 }, { x: 14, y: 5 }, { x: 15, y: 5 }
            ]
        }
    },
    
    // 随机选择地图
    getRandomMap: () => {
        const mapKeys = Object.keys(MAP_CONFIG.MAPS);
        const randomIndex = Math.floor(Math.random() * mapKeys.length);
        return MAP_CONFIG.MAPS[mapKeys[randomIndex]];
    },

    getDifficultyText(mapId) {
        switch (mapId) {
            case 'STRAIGHT': return '★☆☆ 简单';
            case 'ZIGZAG': return '★★☆ 中等';
            case 'SPIRAL': return '★★★ 困难';
            case 'DOUBLE_LANE': return '★★★ 困难';
            case 'CROSSROADS': return '★★★ 困难';
            case 'SNAKE_PATH': return '★★★ 困难';
            case 'BOTTLENECK': return '★★★ 困难';
            case 'MAZE_RUNNER': return '★★★ 困难';
            case 'FORTRESS': return '★★☆ 中等';
            case 'RIVER': return '★★☆ 中等';
            case 'TEMPLE': return '★★★ 困难';
            default: return '★☆☆ 未知';
        }
    },

    getDifficultyColor(mapId) {
        switch (mapId) {
            case 'STRAIGHT': return '#00ff00';
            case 'ZIGZAG': return '#ffaa00';
            case 'SPIRAL': return '#ff4444';
            case 'DOUBLE_LANE': return '#ff4444';
            case 'CROSSROADS': return '#ff4444';
            case 'SNAKE_PATH': return '#ff4444';
            case 'BOTTLENECK': return '#ff4444';
            case 'MAZE_RUNNER': return '#ff4444';
            case 'FORTRESS': return '#ffaa00';
            case 'RIVER': return '#ffaa00';
            case 'TEMPLE': return '#ff4444';
            default: return '#ffffff';
        }
    }
}; 